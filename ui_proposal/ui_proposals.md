# 新機能のためのUIデザイン提案レポート

## 1. はじめに

本レポートは、`feature/enhanced-ui-individual-stocks`ブランチで実装された新機能（高度な分析と可視化）を最大限に活用するためのUIデザイン案を提案するものです。

## 2. 新機能の概要

提案の前に、今回実装された主要な新機能を再確認します。

- **予測分析**:
  - 統計モデル（ARIMA/SARIMA）
  - 機械学習モデル（Random Forest, XGBoost）
  - アンサンブル学習による複数モデルの統合
- **リスク分析**:
  - モンテカルロシミュレーション
  - VaR (Value at Risk) / CVaR (Conditional Value at Risk) の計算
- **高度な可視化**:
  - 複数モデルの比較が可能な予測チャート
  - リアルタイムVaRモニタリングやストレスシナリオを含むリスクダッシュボード
  - インタラクティブなドリルダウンが可能なチャート
  - 3Dヒートマップなどの高度なビジュアライゼーション

## 3. UIデザイン案

上記の機能を効果的にユーザーに提供するため、3つのデザイン案を提案します。

---

### 案A: オールインワン・ダッシュボード形式

すべての情報を単一のページに集約し、タブやアコーディオンUIを使って情報を切り替えるデザインです。

- **長所**:
  - **情報集約性**: 必要な情報がすべて1ページにまとまっており、ページ遷移なしで全体像を把握できる。
  - **操作の迅速性**: タブを切り替えるだけで、関連情報を素早く比較・分析できる。
- **短所**:
  - **情報過多**: 一度に表示される情報量が多く、ユーザーが圧倒される可能性がある。
  - **パフォーマンス**: 初期読み込みに時間がかかる可能性がある。
  - **実装の複雑性**: レイアウトの設計やコンポーネント間の連携が複雑になりやすい。

**ワイヤーフレーム（イメージ）**:
```
/----------------------------------------------------
| [サマリー] [予測分析] [リスク分析] [高度な可視化] |
|----------------------------------------------------|
|
| (選択したタブに応じたコンテンツが表示される)
|
| - 予測モデル選択ドロップダウン                     |
| - 予測期間設定                                     |
| - 予測結果チャート (複数モデル重ね描き)            |
|
\----------------------------------------------------
```

---

### 案B: サマリー + 詳細ページ形式（推奨）

メインページには重要な指標（現在の市場概況、主要な予測結果、リスクレベルなど）のサマリーを提示し、各項目の詳細情報へは専用ページに遷移して確認するデザインです。

- **長所**:
  - **情報の段階的開示**: ユーザーはまず全体像を把握し、興味のある部分だけを深く掘り下げられる。
  - **優れたパフォーマンス**: 各ページが必要なデータのみを読み込むため、表示が高速。
  - **拡張性**: 将来的に新しい分析機能を追加する際、新しい詳細ページを追加するだけで対応できる。
- **短所**:
  - **ページ遷移の手間**: 複数の情報を比較するためにページを行き来する必要がある。

**ワイヤーフレーム（イメージ）**:
```
【メインページ】
/----------------------------------------------------
| # マーケットサマリー                               |
| [主要指数のチャート] [AIコメント]                  |
|----------------------------------------------------|
| # 予測ハイライト                                   |
| [主要銘柄の短期予測] [詳細を見る >>] (予測ページへ) |
|----------------------------------------------------|
| # リスク分析サマリー                               |
| [現在のVaRレベル] [詳細を見る >>] (リスクページへ)   |
\----------------------------------------------------

【予測詳細ページ】
/----------------------------------------------------
| # 予測分析ダッシュボード                           |
| [銘柄選択] [モデル選択] [期間設定]                 |
| [予測チャート] [精度評価テーブル]                  |
\----------------------------------------------------
```

---

### 案C: カスタマイズ可能なモジュール・カード形式

各分析機能（予測、リスク、ニュースなど）を独立した「カード」として提供し、ユーザーがドラッグ＆ドロップで自由に配置や表示/非表示を切り替えられるようにするデザインです。

- **長所**:
  - **高いカスタマイズ性**: ユーザーは自分にとって最も重要な情報だけをダッシュボードに表示できる。
  - **柔軟なレイアウト**: ユーザーの好みに合わせて最適な情報配置が可能。
- **短所**:
  - **実装の最高難易度**: ドラッグ＆ドロップやレイアウト保存など、高度なフロントエンド技術が必要。
  - **ユーザーへの負担**: 自由度が高い反面、初期設定をユーザー自身が行う必要がある。

**ワイヤーフレーム（イメージ）**:
```
/----------------------------------------------------
| [レイアウト編集ボタン]                             |
|
|  /--------------- \   /--------------- \
|  | 予測チャート  |   | リスクVaR     |            |
|  \---------------/   \---------------/
|
|  /--------------- \   /--------------- \
|  | ニュース一覧  |   | 為替レート    |            |
|  \---------------/   \---------------/
|
\----------------------------------------------------
```

---

## 4. 結論と推奨

**「案B: サマリー + 詳細ページ形式」** を最も推奨します。

**理由**:
- **バランスの良さ**: 情報の全体像把握と詳細分析のニーズを両立できる。
- **導入の容易さ**: まずはサマリーページと1〜2の詳細ページから実装を始めるなど、段階的な開発が可能。
- **将来の拡張性**: 新しい分析手法や可視化が追加された場合でも、新しい詳細ページとしてスムーズに統合できる。

このアプローチは、ユーザーを情報過多から守りつつ、専門的な分析へのアクセスも提供する、最も現実的で効果的な解決策だと考えられます。
