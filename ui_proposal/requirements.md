# UI刷新プロジェクト要件定義書

## 1. 概要

本ドキュメントは、マーケットレポートジェネレーターの新機能（高度な分析と可視化）をユーザーに提供するためのUI刷新に関する要件を定義する。

## 2. プロジェクトの目的と背景

- **目的**: 専門的なデータ分析（予測、リスク評価）の結果を、直感的で分かりやすいインターフェースを通じてユーザーに提供し、より深い洞察を得られるように支援する。
- **背景**: これまでバックエンドで実装されてきた高度な分析機能を、ユーザーが実際に活用できる形でフロントエンドに統合する必要がある。

## 3. スコープ（対象範囲）

### 3.1. 対象範囲

- **サマリーページの刷新**: 主要な指標、予測、リスクのハイライトを表示する新しいメインページの開発。
- **予測分析ページの開発**: 複数の予測モデルの結果を比較・分析できる専用ページの実装。
- **リスク分析ページの開発**: VaR/CVaRやモンテカルロシミュレーションの結果を可視化する専用ページの実装。
- 上記ページに必要なAPIエンドポイントの設計と実装。

### 3.2. 対象範囲外

- ユーザーによるダッシュボードのカスタマイズ機能（案Cに類するもの）。
- リアルタイムでのデータ更新機能（本フェーズでは日次更新を想定）。
- ユーザー認証、アカウント管理機能。
- 3Dヒートマップなど、特に実装難易度の高い可視化（将来的な拡張機能とする）。

## 4. ユーザー要件

### 4.1. 機能要件

- **サマリーページ**
  - ユーザーは、主要な市場指数の最新状況を一目で把握できる。
  - ユーザーは、最も重要な銘柄の短期的な価格予測のサマリーを確認できる。
  - ユーザーは、現在のリスクレベルの概要（例: VaR）を理解できる。
  - ユーザーは、各サマリー項目から詳細分析ページへ遷移できる。

- **予測分析ページ**
  - ユーザーは、分析対象の銘柄を選択できる。
  - ユーザーは、使用する予測モデル（ARIMA, XGBoostなど）を複数選択し、結果を比較できる。
  - ユーザーは、予測期間（例: 1週間後、1ヶ月後）を指定できる。
  - ユーザーは、予測結果をチャート上で視覚的に確認できる。
  - ユーザーは、各モデルの予測精度評価（例: MAPE, RMSE）をテーブルで確認できる。

- **リスク分析ページ**
  - ユーザーは、分析対象の銘柄を選択できる。
  - ユーザーは、VaRおよびCVaRの計算結果をチャートと数値で確認できる。
  - ユーザーは、モンテカルロシミュレーションに基づく将来の価格分布をチャートで確認できる。

## 5. 非機能要件

- **パフォーマンス**: 各詳細ページの表示は3秒以内に完了すること。
- **使いやすさ (Usability)**: 専門的な知識がないユーザーでも、各チャートや指標が何を表しているのかを直感的に理解できること（ツールチップや簡単な説明文を付与）。
- **互換性**: 最新版のChrome, Firefox, Safariブラウザで正常に表示・動作すること。
- **保守性・拡張性**: 将来的に新しい分析モデルやチャートを追加しやすいように、コンポーネントベースで設計すること。
